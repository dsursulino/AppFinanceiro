{"ast":null,"code":"// /pages/api/movies.js\nimport { PrismaClient } from '@prisma/client';\nimport { FichaBUS } from '../../src/business/fichaBUS';\nconst prisma = new PrismaClient();\nexport default async function (req, res) {\n  const fichaBUS = new FichaBUS();\n\n  if (req.method === 'POST') {\n    const {\n      body\n    } = req;\n    const value = Object.assign({\n      celular: null,\n      cep: null,\n      cpf: null,\n      email: null,\n      endereco: null,\n      etapa: null,\n      id: null,\n      nome: null,\n      token: null\n    }, JSON.parse(body));\n    const ficha = await fichaBUS.create(value);\n    res.json(ficha);\n  }\n\n  if (req.method === 'GET') {\n    const movie = await prisma.ficha.findMany();\n    res.json(movie);\n  }\n}","map":{"version":3,"sources":["D:/Projetos/TMB/front/solicitacao_credito/pages/api/ficha.js"],"names":["PrismaClient","FichaBUS","prisma","req","res","fichaBUS","method","body","value","Object","assign","celular","cep","cpf","email","endereco","etapa","id","nome","token","JSON","parse","ficha","create","json","movie","findMany"],"mappings":"AACA;AACA,SAASA,YAAT,QAA6B,gBAA7B;AACA,SAAQC,QAAR,QAAuB,6BAAvB;AACA,MAAMC,MAAM,GAAG,IAAIF,YAAJ,EAAf;AAEA,eAAe,gBAAgBG,GAAhB,EAAqBC,GAArB,EAA0B;AAEvC,QAAMC,QAAQ,GAAI,IAAIJ,QAAJ,EAAlB;;AACA,MAAIE,GAAG,CAACG,MAAJ,KAAe,MAAnB,EAA2B;AAEzB,UAAM;AAAEC,MAAAA;AAAF,QAAWJ,GAAjB;AAEC,UAAMK,KAAK,GAAEC,MAAM,CAACC,MAAP,CAAc;AAACC,MAAAA,OAAO,EAAE,IAAV;AAAgBC,MAAAA,GAAG,EAAE,IAArB;AAA2BC,MAAAA,GAAG,EAAE,IAAhC;AAAqCC,MAAAA,KAAK,EAAE,IAA5C;AAAkDC,MAAAA,QAAQ,EAAE,IAA5D;AAAiEC,MAAAA,KAAK,EAAC,IAAvE;AAA6EC,MAAAA,EAAE,EAAC,IAAhF;AAAsFC,MAAAA,IAAI,EAAE,IAA5F;AAAkGC,MAAAA,KAAK,EAAC;AAAxG,KAAd,EAA4HC,IAAI,CAACC,KAAL,CAAWd,IAAX,CAA5H,CAAb;AACD,UAAMe,KAAK,GAAG,MAAMjB,QAAQ,CAACkB,MAAT,CAAgBf,KAAhB,CAApB;AACAJ,IAAAA,GAAG,CAACoB,IAAJ,CAASF,KAAT;AACD;;AACD,MAAInB,GAAG,CAACG,MAAJ,KAAe,KAAnB,EAA0B;AAExB,UAAMmB,KAAK,GAAG,MAAMvB,MAAM,CAACoB,KAAP,CAAaI,QAAb,EAApB;AACAtB,IAAAA,GAAG,CAACoB,IAAJ,CAASC,KAAT;AACD;AACF","sourcesContent":["\n// /pages/api/movies.js\nimport { PrismaClient } from '@prisma/client';\nimport {FichaBUS} from '../../src/business/fichaBUS'\nconst prisma = new PrismaClient();\n\nexport default async function (req, res) {\n\n  const fichaBUS =  new FichaBUS();\n  if (req.method === 'POST') {\n\n    const { body } = req;\n\n     const value =Object.assign({celular: null, cep: null, cpf: null,email: null, endereco: null,etapa:null, id:null, nome: null, token:null},JSON.parse(body));\n    const ficha = await fichaBUS.create(value);\n    res.json(ficha);\n  }\n  if (req.method === 'GET') {\n\n    const movie = await prisma.ficha.findMany();\n    res.json(movie);\n  }\n}"]},"metadata":{},"sourceType":"module"}