{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { EmailService } from '../infra/emails';\nimport { Repository } from '../repositories/repository'; // that class only can be extended\n\nexport class FichaBUS {\n  constructor() {\n    _defineProperty(this, \"_repository\", void 0);\n\n    this._repository = new Repository();\n  }\n\n  async create(item) {\n    return new Promise(async (resolve, reject) => {\n      const mail = new EmailService();\n      console.log('passou');\n\n      this._repository.FichaREP.create(item).then(data => {\n        mail.Send({\n          from: \"dursulino@practicar.com.br\",\n          html: \"Funcionou\",\n          subject: \"TMB\",\n          to: \"dursulino@practicar.com.br\"\n        }).then(data => console.log(data)).finally(() => {\n          resolve(item);\n        });\n      }).catch(erro => {\n        console.log(erro);\n        reject(erro);\n      });\n    });\n  }\n\n}","map":{"version":3,"sources":["D:/Projetos/TMB/front/solicitacao_credito/src/business/fichaBUS.ts"],"names":["EmailService","Repository","FichaBUS","constructor","_repository","create","item","Promise","resolve","reject","mail","console","log","FichaREP","then","data","Send","from","html","subject","to","finally","catch","erro"],"mappings":";;AAEA,SAASA,YAAT,QAA6B,iBAA7B;AAIA,SAASC,UAAT,QAA2B,4BAA3B,C,CACA;;AACA,OAAO,MAAMC,QAAN,CAAe;AAGpBC,EAAAA,WAAW,GAAG;AAAA;;AACZ,SAAKC,WAAL,GAAmB,IAAIH,UAAJ,EAAnB;AAED;;AAED,QAAMI,MAAN,CAAaC,IAAb,EAA0C;AACxC,WAAO,IAAIC,OAAJ,CAAmB,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AACnD,YAAMC,IAAI,GAAG,IAAIV,YAAJ,EAAb;AAEAW,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;;AACD,WAAKR,WAAL,CAAiBS,QAAjB,CAA0BR,MAA1B,CAAiCC,IAAjC,EAAuCQ,IAAvC,CAA4CC,IAAI,IAAG;AAElDL,QAAAA,IAAI,CAACM,IAAL,CAAU;AAACC,UAAAA,IAAI,EAAE,4BAAP;AAAqCC,UAAAA,IAAI,EAAE,WAA3C;AAAyDC,UAAAA,OAAO,EAAE,KAAlE;AAAyEC,UAAAA,EAAE,EAAE;AAA7E,SAAV,EACCN,IADD,CACMC,IAAI,IAAIJ,OAAO,CAACC,GAAR,CAAYG,IAAZ,CADd,EACkCM,OADlC,CAC0C,MAAI;AAACb,UAAAA,OAAO,CAACF,IAAD,CAAP;AAAe,SAD9D;AAIA,OAND,EAOCgB,KAPD,CAOOC,IAAI,IAAG;AACbZ,QAAAA,OAAO,CAACC,GAAR,CAAYW,IAAZ;AACEd,QAAAA,MAAM,CAACc,IAAD,CAAN;AAEF,OAXD;AAkBA,KAtBM,CAAP;AAuBD;;AAhCmB","sourcesContent":["\nimport { Ficha, PrismaClient } from '@prisma/client';\nimport { EmailService } from '../infra/emails';\nimport { BaseRepository } from '../repositories/base/baseRepository';\nimport { IRead } from '../repositories/interfaces/IRead';\nimport { IWrite } from '../repositories/interfaces/IWrite';\nimport { Repository } from '../repositories/repository';\n// that class only can be extended\nexport class FichaBUS {\n\n  _repository: Repository;\n  constructor() {\n    this._repository = new Repository();\n\n  }\n\n  async create(item: Ficha): Promise<Ficha> {\n    return new Promise<Ficha>(async (resolve, reject) => {\n      const mail = new EmailService();\n\n      console.log('passou');\n     this._repository.FichaREP.create(item).then(data =>{\n\n      mail.Send({from: \"dursulino@practicar.com.br\", html: \"Funcionou\" , subject: \"TMB\", to: \"dursulino@practicar.com.br\"})\n      .then(data => console.log(data) ).finally(()=>{resolve(item);});\n\n\n     })\n     .catch(erro=> {\n      console.log(erro);\n        reject(erro);\n\n     });\n\n\n\n\n\n\n    });\n  }\n\n\n}"]},"metadata":{},"sourceType":"module"}