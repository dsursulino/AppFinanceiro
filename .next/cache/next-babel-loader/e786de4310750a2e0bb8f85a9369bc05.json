{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from 'react';\nimport EtapaContext from '../../etapaContext';\nimport { GaleriaDiv } from './galeria.style';\nimport { ProdutoCard } from '../produto/produto';\nimport { Produto } from '../../../../../Entities/Produto';\nimport { ProdutoService } from '../../../../../services/produtoService';\n\nconst Galeria = () => {\n  const _contexto = useContext(EtapaContext);\n\n  let {\n    0: listProdutos,\n    1: setListProdutos\n  } = useState(new Array());\n\n  const add_click = function (produto) {\n    const _produto = listProdutos.find(t => t.id = produto.id);\n\n    _produto.Selecionado = true;\n    alert('Produto Adicionado');\n    const newValue = Object.assign({}, listProdutos);\n    setListProdutos(_contexto.produtos);\n  };\n\n  const getListaProdutos = function () {\n    let _listProdutos = listProdutos.map(value => {\n      return __jsx(ProdutoCard, {\n        key: value.id,\n        produto: value,\n        selecionado: value.Selecionado,\n        add_click: add_click\n      });\n    });\n\n    return _listProdutos;\n  };\n\n  useEffect(() => {\n    console.log('chamou');\n    ProdutoService.listarProdutos().then(data => {\n      let produtos = data.map(value => {\n        let produto = new Produto();\n        produto.id = value.id;\n        produto.Nome = value.name;\n        produto.Valor = value.price;\n        produto.Imagem = value.image_link;\n        return produto;\n      });\n      _contexto.produtos = produtos;\n      setListProdutos(produtos);\n    }).catch(error => {});\n  }, [_contexto, listProdutos]);\n  return __jsx(GaleriaDiv, {\n    className: \"w-full\"\n  }, __jsx(\"h3\", {\n    className: \"text-gray-600 text-2xl font-medium\"\n  }, \"Produtos\"), __jsx(\"div\", {\n    id: \"containerProdutos\",\n    className: \"containerProdutos  overflow-auto\"\n  }, __jsx(\"div\", {\n    className: \" grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 mt-6 p-4\"\n  }, getListaProdutos())));\n};\n\nexport default Galeria;","map":null,"metadata":{},"sourceType":"module"}