{"ast":null,"code":"import { PrismaClient } from '@prisma/client';\nconst prisma = new PrismaClient();\nexport default async function (req, res) {\n  if (req.method === 'POST') {\n    const {\n      body\n    } = req;\n    const movie = await prisma.ficha.create({\n      data: JSON.parse(body)\n    });\n    res.json(movie);\n  }\n\n  if (req.method === 'GET') {\n    const {\n      body\n    } = req;\n    const movie = await prisma.ficha.findMany();\n    res.json(movie);\n  }\n}","map":{"version":3,"sources":["D:/Projetos/TMB/front/solicitacao_credito/pages/ficha.ts"],"names":["PrismaClient","prisma","req","res","method","body","movie","ficha","create","data","JSON","parse","json","findMany"],"mappings":"AAAA,SAASA,YAAT,QAA6B,gBAA7B;AAEA,MAAMC,MAAM,GAAG,IAAID,YAAJ,EAAf;AAEA,eAAe,gBAAgBE,GAAhB,EAAqBC,GAArB,EAA0B;AACvC,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB,UAAM;AAAEC,MAAAA;AAAF,QAAWH,GAAjB;AACA,UAAMI,KAAK,GAAG,MAAML,MAAM,CAACM,KAAP,CAAaC,MAAb,CAAoB;AAAEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,KAAL,CAAWN,IAAX;AAAR,KAApB,CAApB;AACAF,IAAAA,GAAG,CAACS,IAAJ,CAASN,KAAT;AACD;;AACD,MAAIJ,GAAG,CAACE,MAAJ,KAAe,KAAnB,EAA0B;AACxB,UAAM;AAAEC,MAAAA;AAAF,QAAWH,GAAjB;AACA,UAAMI,KAAK,GAAG,MAAML,MAAM,CAACM,KAAP,CAAaM,QAAb,EAApB;AACAV,IAAAA,GAAG,CAACS,IAAJ,CAASN,KAAT;AACD;AAEF","sourcesContent":["import { PrismaClient } from '@prisma/client';\n\nconst prisma = new PrismaClient();\n\nexport default async function (req, res) {\n  if (req.method === 'POST') {\n    const { body } = req;\n    const movie = await prisma.ficha.create({ data: JSON.parse(body) });\n    res.json(movie);\n  }\n  if (req.method === 'GET') {\n    const { body } = req;\n    const movie = await prisma.ficha.findMany();\n    res.json(movie);\n  }\n\n}"]},"metadata":{},"sourceType":"module"}