{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from 'react';\nimport EtapaContext from '../../etapaContext';\nimport { GaleriaDiv } from './galeria.style';\nimport { ProdutoCard } from '../produto/produto';\nimport { Produto } from '../../../../../Entities/Produto';\nimport { ProdutoService } from '../../../../../services/produtoService';\n\nvar Galeria = function Galeria() {\n  var _contexto = useContext(EtapaContext);\n\n  var _useState = useState(new Array()),\n      listProdutos = _useState[0],\n      setListProdutos = _useState[1];\n\n  var add_click = function add_click(produto) {\n    var _produto = listProdutos.find(function (t) {\n      return t.id = produto.id;\n    });\n\n    _produto.Selecionado = true;\n    alert('Produto Adicionado');\n    var newValue = Object.assign({}, listProdutos);\n    setListProdutos(_contexto.produtos);\n  };\n\n  var getListaProdutos = function getListaProdutos() {\n    var _listProdutos = listProdutos.map(function (value) {\n      return __jsx(ProdutoCard, {\n        key: value.id,\n        produto: value,\n        selecionado: value.Selecionado,\n        add_click: add_click\n      });\n    });\n\n    return _listProdutos;\n  };\n\n  useEffect(function () {\n    console.log('chamou');\n    ProdutoService.listarProdutos().then(function (data) {\n      var produtos = data.map(function (value) {\n        var produto = new Produto();\n        produto.id = value.id;\n        produto.Nome = value.name;\n        produto.Valor = value.price;\n        produto.Imagem = value.image_link;\n        return produto;\n      });\n      _contexto.produtos = produtos;\n      setListProdutos(produtos);\n    })[\"catch\"](function (error) {});\n  }, [_contexto, listProdutos]);\n  return __jsx(GaleriaDiv, {\n    className: \"w-full\"\n  }, __jsx(\"h3\", {\n    className: \"text-gray-600 text-2xl font-medium\"\n  }, \"Produtos\"), __jsx(\"div\", {\n    id: \"containerProdutos\",\n    className: \"containerProdutos  overflow-auto\"\n  }, __jsx(\"div\", {\n    className: \" grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 mt-6 p-4\"\n  }, getListaProdutos())));\n};\n\nexport default Galeria;","map":null,"metadata":{},"sourceType":"module"}